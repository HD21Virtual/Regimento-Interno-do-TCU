<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competências das Câmaras</title>
    <style>
        :root {
            --primary-bg: #f4f7f9;
            --secondary-bg: #ffffff;
            --text-color: #333;
            --primary-color: #005a9c;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --neutral-color: #6c757d;
            --border-color: #e0e0e0;
            --shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .quiz-container {
            background-color: var(--secondary-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 800px;
            padding: 30px;
            box-sizing: border-box;
        }
        .quiz-header {
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 20px;
        }
        .quiz-header h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 1.8em;
        }
        .quiz-header p {
            margin: 5px 0 0;
            color: var(--neutral-color);
        }
        #question-number {
            font-weight: bold;
            color: var(--primary-color);
        }
        #question-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: justify;
            background-color: var(--primary-bg);
            padding: 15px;
            border-radius: 5px;
            border-left: 5px solid var(--primary-color);
        }
        .answer-options {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        .btn {
            flex-grow: 1;
            padding: 15px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--secondary-bg);
            color: var(--primary-color);
            transition: all 0.2s ease-in-out;
        }
        .btn:hover:not(:disabled) {
            background-color: var(--primary-color);
            color: var(--secondary-bg);
            border-color: var(--primary-color);
        }
        .btn:disabled {
            cursor: not-allowed;
        }
        .btn.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }
        .btn.incorrect {
            background-color: var(--incorrect-color);
            color: white;
            border-color: var(--incorrect-color);
        }
        #feedback {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
            line-height: 1.5;
        }
        #feedback.correct-feedback {
            background-color: #e9f6ec;
            border-left: 5px solid var(--correct-color);
            color: #1e4620;
        }
        #feedback.incorrect-feedback {
            background-color: #fdecea;
            border-left: 5px solid var(--incorrect-color);
            color: #5c1a1a;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        #next-btn, #restart-btn, #prev-btn, #restart-wrong-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 5px;
            cursor: pointer;
            display: none;
        }
        #prev-btn {
            background-color: var(--neutral-color);
        }
        #prev-btn:hover {
            background-color: #5a6268;
        }
        #restart-wrong-btn {
            background-color: var(--incorrect-color);
            margin-left: 10px;
        }
        #restart-wrong-btn:hover {
            background-color: #c82333;
        }

        #results-container {
            text-align: center;
        }
        #results-container h2 {
            color: var(--primary-color);
        }
        #score {
            font-size: 1.5em;
            margin: 20px 0;
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <div class="quiz-header">
            <h1>Regimento Interno do TCU</h1>
            <p>Competências das Câmaras</p>
        </div>

        <div id="quiz-body">
            <p><span id="question-number"></span> de <span id="total-questions"></span></p>
            <div id="question-text"></div>
            <div class="answer-options">
                <button class="btn" id="btn-certo" onclick="selectAnswer('Certo')">Certo</button>
                <button class="btn" id="btn-errado" onclick="selectAnswer('Errado')">Errado</button>
            </div>
            <div id="feedback"></div>
            <div class="navigation">
                <button id="prev-btn" onclick="prevQuestion()">&larr; Anterior</button>
                <button id="next-btn" onclick="nextQuestion()">Próxima &rarr;</button>
            </div>
        </div>

        <div id="results-container" style="display: none;">
            <h2>Caderno Concluído!</h2>
            <p id="score"></p>
            <p id="score-message"></p>
            <button id="restart-btn" onclick="restartQuiz('all')">Refazer Todas</button>
            <button id="restart-wrong-btn" onclick="restartQuiz('wrong')">Refazer Erradas</button>
        </div>

    </div>

    <script>
        const quizData = [
            {
                question: "Compete à Primeira e à Segunda câmaras deliberar sobre as matérias elencadas nos incisos do art. 17.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois corresponde ao caput do Art. 17, que atribui a competência deliberativa sobre as matérias subsequentes aos dois órgãos fracionários do Tribunal, a Primeira e a Segunda câmaras.<br><br><strong>Dispositivo Legal:</strong><br>Art. 17. Compete à Primeira e à Segunda câmaras deliberar sobre:"
            },
            {
                question: "Compete privativamente ao Plenário deliberar sobre as matérias elencadas nos incisos do art. 17.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro está em atribuir a competência ao Plenário. O caput do Art. 17 é explícito ao determinar que a competência para deliberar sobre as matérias listadas é da \"Primeira e da Segunda câmaras\".<br><br><strong>Dispositivo Legal:</strong><br>Art. 17. Compete à Primeira e à Segunda câmaras deliberar sobre:"
            },
            {
                question: "Compete às câmaras deliberar sobre prestação e tomada de contas, inclusive especial.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois é uma transcrição literal da competência das câmaras para julgar todos os tipos de processos de contas, incluindo as tomadas de contas especiais, conforme o inciso I do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>I – prestação e tomada de contas, inclusive especial;"
            },
            {
                question: "Compete às câmaras deliberar sobre prestação e tomada de contas, exceto as contas especiais.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro consiste em trocar a palavra \"inclusive\" por \"exceto\". O inciso I do Art. 17 deixa claro que a competência das câmaras abrange também as tomadas de contas especiais.<br><br><strong>Dispositivo Legal:</strong><br>I – prestação e tomada de contas, inclusive especial;"
            },
            {
                question: "Compete às câmaras deliberar sobre ato de admissão de pessoal da administração direta e indireta, incluídas as fundações instituídas e mantidas pelo poder público federal.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois descreve com exatidão a competência das câmaras para apreciar os atos de admissão de pessoal no serviço público federal, nos termos do inciso II do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>II – ato de admissão de pessoal da administração direta e indireta, incluídas as fundações instituídas e mantidas pelo poder público federal;"
            },
            {
                question: "Compete às câmaras deliberar sobre ato de admissão de pessoal da administração direta e indireta, excluídas as fundações instituídas e mantidas pelo poder público federal.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro crucial é a palavra \"excluídas\". O texto do inciso II afirma expressamente que as fundações federais estão \"incluídas\" no escopo de apreciação dos atos de admissão.<br><br><strong>Dispositivo Legal:</strong><br>II – ato de admissão de pessoal da administração direta e indireta, incluídas as fundações instituídas e mantidas pelo poder público federal;"
            },
            {
                question: "É competência das câmaras deliberar sobre a legalidade, para fins de registro, de concessão de aposentadoria, reforma ou pensão a servidor público e a militar federal ou a seus beneficiários.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois reproduz fielmente a competência das câmaras para apreciar a legalidade dos atos de concessão de benefícios previdenciários a servidores civis e militares, conforme o inciso III do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>III – a legalidade, para fins de registro, de concessão de aposentadoria, reforma ou pensão a servidor público e a militar federal ou a seus beneficiários;"
            },
            {
                question: "Compete às câmaras deliberar sobre a legalidade, para fins de registro, de concessão de aposentadoria e pensão, excluindo-se os atos de reforma de militares federais.",
                answer: "Errado",
                rationale: "A assertiva está incorreta ao excluir uma das hipóteses previstas. O inciso III do Art. 17 inclui expressamente na competência das câmaras a análise dos atos de \"aposentadoria, reforma ou pensão\".<br><br><strong>Dispositivo Legal:</strong><br>III – a legalidade, para fins de registro, de concessão de aposentadoria, reforma ou pensão a servidor público e a militar federal ou a seus beneficiários;"
            },
            {
                question: "Compete ao Plenário deliberar sobre a legalidade, para fins de registro, de concessão de aposentadoria, reforma ou pensão a servidor público.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. A competência para a apreciação dos atos de pessoal, como aposentadorias, reformas e pensões, é atribuída às Câmaras pelo inciso III do Art. 17, e não ao Plenário.<br><br><strong>Dispositivo Legal:</strong><br>Art. 17. Compete à Primeira e à Segunda câmaras deliberar sobre: ... III – a legalidade, para fins de registro, de concessão de aposentadoria, reforma ou pensão a servidor público e a militar federal ou a seus beneficiários;"
            },
            {
                question: "Compete às câmaras deliberar sobre representação, exceto a de que trata a alínea l do inciso I do art. 15.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois descreve a regra geral de competência das câmaras para julgar representações, ao mesmo tempo em que aponta a exceção específica que permanece na competência do Plenário, conforme o inciso IV do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>IV – representação, exceto a de que trata a alínea l do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre todas as representações formuladas ao Tribunal, sem exceções.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro consiste em ignorar a ressalva contida na norma. O inciso IV do Art. 17 expressamente excepciona a competência para a representação \"de que trata a alínea l do inciso I do art. 15\", que é de competência do Plenário.<br><br><strong>Dispositivo Legal:</strong><br>IV – representação, exceto a de que trata a alínea l do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre representação, inclusive a de que trata a alínea l do inciso I do art. 15.",
                answer: "Errado",
                rationale: "A assertiva está incorreta ao trocar a palavra \"exceto\" por \"inclusive\". A norma estabelece uma exceção, ou seja, uma exclusão da competência das Câmaras, e não uma inclusão.<br><br><strong>Dispositivo Legal:</strong><br>IV – representação, exceto a de que trata a alínea l do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre a realização de inspeção, ressalvado o disposto na alínea j do inciso I do art. 15.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois estabelece a regra geral de competência das câmaras para autorizar inspeções, ao mesmo tempo em que ressalva os casos específicos (órgãos de cúpula) cuja fiscalização compete ao Plenário, nos termos do inciso V do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>V – realização de inspeção, ressalvado o disposto na alínea j do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre a realização de qualquer inspeção, sem ressalvas.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro está em ignorar a exceção. O inciso V do Art. 17 é claro ao ressalvar as fiscalizações de competência do Plenário, previstas na \"alínea j do inciso I do art. 15\".<br><br><strong>Dispositivo Legal:</strong><br>V – realização de inspeção, ressalvado o disposto na alínea j do inciso I do art. 15;"
            },
            {
                question: "A deliberação sobre a realização de inspeções no Supremo Tribunal Federal e na Presidência da República compete às Câmaras.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. Esses órgãos estão listados na alínea 'j' do inciso I do art. 15, que trata da competência do Plenário. Portanto, a deliberação sobre a realização de inspeção nesses locais está expressamente ressalvada da competência das Câmaras pelo inciso V do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>V – realização de inspeção, ressalvado o disposto na alínea j do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre relatório de fiscalização, exceto as de que tratam as alíneas “j”, “l”, “m” e “n”, do inciso I do art. 15.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois é uma transcrição literal do inciso VI do Art. 17, que estabelece a competência geral das câmaras para apreciar relatórios de fiscalização, mas ressalva os casos específicos que são de competência privativa do Plenário.<br><br><strong>Dispositivo Legal:</strong><br>VI – relatório de fiscalização, exceto as de que tratam as alíneas “j”, “l”, “m” e “n”, do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre todos os relatórios de fiscalização, sem exceções.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro consiste em ignorar a ressalva contida na norma. O inciso VI do Art. 17 expressamente utiliza o termo \"exceto\" para excluir da competência das câmaras os relatórios de fiscalização de que tratam as alíneas 'j', 'l', 'm' e 'n' do inciso I do art. 15.<br><br><strong>Dispositivo Legal:</strong><br>VI – relatório de fiscalização, exceto as de que tratam as alíneas “j”, “l”, “m” e “n”, do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre relatório de fiscalização, inclusive as de que tratam as alíneas “j”, “l”, “m” e “n”, do inciso I do art. 15.",
                answer: "Errado",
                rationale: "A assertiva está incorreta ao trocar a palavra \"exceto\" por \"inclusive\". A norma estabelece uma exceção, ou seja, uma exclusão da competência das Câmaras, e não uma inclusão.<br><br><strong>Dispositivo Legal:</strong><br>VI – relatório de fiscalização, exceto as de que tratam as alíneas “j”, “l”, “m” e “n”, do inciso I do art. 15;"
            },
            {
                question: "Compete às câmaras deliberar sobre pedido de reexame, recurso de reconsideração e embargos de declaração apresentados contra suas próprias deliberações.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois descreve fielmente a competência recursal das câmaras para julgar os recursos interpostos contra suas próprias decisões, conforme o início do inciso VII do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>VII – pedido de reexame, recurso de reconsideração e embargos de declaração apresentados contra suas próprias deliberações, bem como agravo interposto a despacho decisório proferido em processo de sua competência."
            },
            {
                question: "Compete às câmaras deliberar sobre recurso de reconsideração e embargos de declaração apresentados contra as deliberações do Plenário.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro está na origem da decisão recorrida. O inciso VII do Art. 17 estabelece que a competência das câmaras é para julgar recursos contra \"suas próprias deliberações\", e não contra as do Plenário.<br><br><strong>Dispositivo Legal:</strong><br>VII – pedido de reexame, recurso de reconsideração e embargos de declaração apresentados contra suas próprias deliberações..."
            },
            {
                question: "Compete às câmaras deliberar sobre agravo interposto a despacho decisório proferido em processo de sua competência.",
                answer: "Certo",
                rationale: "A assertiva está correta e corresponde à parte final do inciso VII do Art. 17, que atribui às câmaras a competência para julgar agravos contra decisões monocráticas proferidas em processos de sua alçada.<br><br><strong>Dispositivo Legal:</strong><br>VII – [...] bem como agravo interposto a despacho decisório proferido em processo de sua competência."
            },
            {
                question: "Os assuntos de competência das câmaras, exceto os recursos previstos no inciso VII, poderão ser incluídos na pauta do Plenário pelo relator, sempre que a relevância da matéria recomende esse procedimento.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois descreve uma das formas de submeter um processo de câmara ao Plenário, a exceção aplicável (recursos) e o critério para tal (relevância), conforme o § 1º do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>§ 1º. Os assuntos de competência das câmaras, exceto os previstos no inciso VII, poderão ser incluídos na pauta do Plenário pelo relator, ou por deliberação da câmara acolhendo proposta de ministro ou sugestão de ministro‑substituto ou do representante do Ministério Público, sempre que a relevância da matéria recomende esse procedimento."
            },
            {
                question: "Todos os assuntos de competência das câmaras, inclusive os recursos previstos no inciso VII, poderão ser incluídos na pauta do Plenário se a relevância da matéria o recomendar.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro está na inclusão dos recursos. O § 1º do Art. 17 é explícito ao determinar que a possibilidade de inclusão na pauta do Plenário se aplica aos assuntos de competência das câmaras, \"exceto os previstos no inciso VII\".<br><br><strong>Dispositivo Legal:</strong><br>§ 1º. Os assuntos de competência das câmaras, exceto os previstos no inciso VII, poderão ser incluídos na pauta do Plenário..."
            },
            {
                question: "Apenas o relator pode incluir um assunto de competência da câmara na pauta do Plenário.",
                answer: "Errado",
                rationale: "A assertiva está incorreta ao restringir a legitimidade. O § 1º do Art. 17 prevê que a inclusão pode ser feita \"pelo relator, ou por deliberação da câmara acolhendo proposta de ministro ou sugestão de ministro-substituto ou do representante do Ministério Público\".<br><br><strong>Dispositivo Legal:</strong><br>§ 1º. Os assuntos de competência das câmaras [...] poderão ser incluídos na pauta do Plenário pelo relator, ou por deliberação da câmara acolhendo proposta de ministro ou sugestão de ministro‑substituto ou do representante do Ministério Público..."
            },
            {
                question: "Não poderão ser apreciados pelas câmaras os processos que contenham propostas de fixação de entendimento sobre questão de direito em determinada matéria.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois é uma transcrição de uma das vedações expressas à competência das câmaras, indicando que tais matérias são reservadas ao Plenário, conforme o § 2º do Art. 17.<br><br><strong>Dispositivo Legal:</strong><br>§ 2º. Não poderão ser apreciados pelas câmaras os processos que contenham propostas de fixação de entendimento sobre questão de direito em determinada matéria..."
            },
            {
                question: "Poderão ser apreciados pelas câmaras os processos em que se entender necessário o exame incidental de inconstitucionalidade de lei ou de ato normativo do poder público.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro consiste em trocar \"Não poderão\" por \"Poderão\". O § 2º do Art. 17 veda expressamente a apreciação pelas câmaras de processos que envolvam o exame incidental de inconstitucionalidade, sendo esta uma competência do Plenário.<br><br><strong>Dispositivo Legal:</strong><br>§ 2º. Não poderão ser apreciados pelas câmaras os processos [...] em que se entender necessário o exame incidental de inconstitucionalidade de lei ou de ato normativo do poder público."
            },
            {
                question: "Realizado, pelo Plenário, o exame incidental de inconstitucionalidade, o processo retornará à Câmara para continuidade do feito.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois descreve fielmente o trâmite processual após a deliberação do Plenário sobre a questão constitucional, conforme o § 3º do Art. 17. O Plenário decide a questão prejudicial, e o processo volta ao órgão de origem para o julgamento do mérito.<br><br><strong>Dispositivo Legal:</strong><br>§ 3º. Realizado, pelo Plenário, o exame incidental de inconstitucionalidade indicado na parte final do parágrafo anterior, o processo retornará à Câmara para continuidade do feito, sem prejuízo do disposto no § 1º."
            },
            {
                question: "Realizado, pelo Plenário, o exame incidental de inconstitucionalidade, o processo será julgado em seu mérito pelo próprio Plenário, não retornando à Câmara.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro está em afirmar que o Plenário julgará o mérito. O § 3º do Art. 17 estabelece que, após o exame da questão constitucional, \"o processo retornará à Câmara para continuidade do feito\".<br><br><strong>Dispositivo Legal:</strong><br>§ 3º. Realizado, pelo Plenário, o exame incidental de inconstitucionalidade [...], o processo retornará à Câmara para continuidade do feito, sem prejuízo do disposto no § 1º."
            },
            {
                question: "Deverão ser remetidos para apreciação do Plenário os processos nos quais se entenda cabível, em grau de recurso, o exame de declaração de inidoneidade de licitante.",
                answer: "Certo",
                rationale: "A assertiva está correta, pois é uma transcrição da regra de deslocamento de competência prevista no § 4º do Art. 17, que reserva ao Plenário a apreciação recursal de sanções mais graves.<br><br><strong>Dispositivo Legal:</strong><br>§ 4º. Deverão ser remetidos para apreciação do Plenário os processos nos quais se entenda cabível, em grau de recurso, o exame de declaração de inidoneidade de licitante ou de inabilitação de responsável para o exercício de cargo em comissão ou função de confiança no âmbito da administração pública federal."
            },
            {
                question: "Deverão ser remetidos para apreciação da outra Câmara os processos nos quais se entenda cabível, em grau de recurso, o exame de inabilitação de responsável para o exercício de cargo em comissão.",
                answer: "Errado",
                rationale: "A assertiva está incorreta. O erro consiste em indicar o órgão errado para a apreciação do recurso. O § 4º do Art. 17 determina que tais processos devem ser remetidos para \"apreciação do Plenário\", e não da outra Câmara.<br><br><strong>Dispositivo Legal:</strong><br>§ 4º. Deverão ser remetidos para apreciação do Plenário os processos nos quais se entenda cabível, em grau de recurso, o exame de declaração de inidoneidade de licitante ou de inabilitação de responsável..."
            }
        ];


        const questionNumberEl = document.getElementById('question-number');
        const totalQuestionsEl = document.getElementById('total-questions');
        const questionTextEl = document.getElementById('question-text');
        const btnCerto = document.getElementById('btn-certo');
        const btnErrado = document.getElementById('btn-errado');
        const feedbackEl = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');
        const restartBtn = document.getElementById('restart-btn');
        const restartWrongBtn = document.getElementById('restart-wrong-btn');
        const quizBodyEl = document.getElementById('quiz-body');
        const resultsContainerEl = document.getElementById('results-container');
        const scoreEl = document.getElementById('score');
        const scoreMessageEl = document.getElementById('score-message');

        let currentQuestionIndex = 0;
        let score = 0;
        let wrongAnswersList = []; 
        let currentQuizData = [...quizData];

        function loadQuestion() {
            resetState();
            const currentQuestion = currentQuizData[currentQuestionIndex];
            questionNumberEl.innerText = currentQuestionIndex + 1;
            totalQuestionsEl.innerText = currentQuizData.length;
            questionTextEl.innerText = currentQuestion.question;

            if (currentQuestionIndex > 0) {
                prevBtn.style.display = 'inline-block';
            }
            
            nextBtn.style.display = 'inline-block';
        }

        function resetState() {
            feedbackEl.style.display = 'none';
            feedbackEl.className = '';
            nextBtn.style.display = 'none';
            prevBtn.style.display = 'none';

            btnCerto.disabled = false;
            btnErrado.disabled = false;
            btnCerto.className = 'btn';
            btnErrado.className = 'btn';
        }

        function selectAnswer(selectedAnswer) {
            btnCerto.disabled = true;
            btnErrado.disabled = true;

            const currentQuestion = currentQuizData[currentQuestionIndex];
            const isCorrect = selectedAnswer === currentQuestion.answer;

            if (isCorrect) {
                score++;
                feedbackEl.innerHTML = `<strong>Correto!</strong> ${currentQuestion.rationale}`;
                feedbackEl.className = 'correct-feedback';
            } else {
                feedbackEl.innerHTML = `<strong>Incorreto.</strong> ${currentQuestion.rationale}`;
                feedbackEl.className = 'incorrect-feedback';
                
                if (!wrongAnswersList.includes(currentQuestion)) {
                     wrongAnswersList.push(currentQuestion);
                }
            }
            
            if (currentQuestion.answer === 'Certo') {
                btnCerto.classList.add('correct');
                if (!isCorrect) btnErrado.classList.add('incorrect');
            } else {
                btnErrado.classList.add('correct');
                if (!isCorrect) btnCerto.classList.add('incorrect');
            }

            feedbackEl.style.display = 'block';
            nextBtn.style.display = 'inline-block';
            
            if (currentQuestionIndex > 0) {
                prevBtn.style.display = 'inline-block';
            }
        }

        function prevQuestion() {
            currentQuestionIndex--;
            loadQuestion();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            quizBodyEl.style.display = 'none';
            resultsContainerEl.style.display = 'block';
            restartBtn.style.display = 'inline-block';
            
            if (wrongAnswersList.length > 0) {
                restartWrongBtn.style.display = 'inline-block';
            }
            
            const percentage = Math.round((score / currentQuizData.length) * 100);
            scoreEl.innerText = `Você acertou ${score} de ${currentQuizData.length} questões (${percentage}%).`;

            let message = '';
            if (percentage >= 90) {
                message = 'Excelente desempenho! Você domina o assunto.';
            } else if (percentage >= 70) {
                message = 'Ótimo resultado! Continue revisando os detalhes.';
            } else if (percentage >= 50) {
                message = 'Bom esforço. Foco nos pontos que errou para melhorar.';
            } else {
                message = 'Continue estudando. A repetição leva à perfeição.';
            }
            scoreMessageEl.innerText = message;
        }

        function restartQuiz(mode) {
            currentQuestionIndex = 0;
            score = 0;

            if (mode === 'wrong' && wrongAnswersList.length > 0) {
                currentQuizData = [...wrongAnswersList];
            } else {
                currentQuizData = [...quizData];
            }
            
            wrongAnswersList = [];
            
            resultsContainerEl.style.display = 'none';
            restartWrongBtn.style.display = 'none';
            quizBodyEl.style.display = 'block';
            loadQuestion();
        }

        loadQuestion();
    </script>

</body>
</html>